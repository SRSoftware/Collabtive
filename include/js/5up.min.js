function finisher(){blindtoggle("form_file");toggleClass("addfile","addfile-active","addfile");toggleClass("add_file_butn","butn_link_active","butn_link");toggleClass("sm_files","smooth","nosmooth");changeFileview($("fileviewtype").value,$("folderparent").value);$("statusrow").setAttribute("style","display:none;");$("fileInfo1").innerHTML="";systemMsg("fileadded")}
function checkCompat(){try{formDataChk=new FormData}catch(e){formDataChk=false}try{xhrChk=new XMLHttpRequest}catch(e){xhrChk=false}if(xhrChk&&formDataChk)return true;else return false}function getSelectedOptions(oList){var sdValues=[];for(var i=1;i<oList.options.length;i++)if(oList.options[i].selected==true)sdValues.push(oList.options[i].value);return sdValues}
function html5up(theFiles,theInfoEl,theIndicator,theTarget){this.theFiles=document.getElementById(theFiles);this.infoEl=document.getElementById(theInfoEl);this.theTarget=theTarget;indicator=document.getElementById(theIndicator)}
html5up.prototype.fileInfo=function(){var theFiles=this.theFiles.files;var outstr="";outstr+="<ol style = 'margin-left:120px;'>";for(var i=0;i<theFiles.length;i++)if(theFiles[i]){var fileSize=0;if(theFiles[i].size>1024*1024)fileSize=(Math.round(theFiles[i].size*100/(1024*1024))/100).toString()+"MB";else fileSize=(Math.round(theFiles[i].size*100/1024)/100).toString()+"KB";outstr+="<li>"+theFiles[i].name+"</li>"}outstr+="</ol>";this.infoEl.innerHTML=outstr};
html5up.prototype.upload=function(){var theFiles=this.theFiles.files;var myData=new FormData;var upfolder=$("upfolder").value;var sendtos=getSelectedOptions($("sendto"));myData.append("upfolder",upfolder);for(var i=0;i<theFiles.length;i++)myData.append("html5upFile"+i,theFiles[i]);for(var i=0;i<sendtos.length;i++)myData.append("sendto[]",sendtos[i]);var xhr=new XMLHttpRequest;xhr.upload.addEventListener("progress",this.progress,false);xhr.addEventListener("load",this.complete,false);xhr.addEventListener("error",
this.failed,false);xhr.addEventListener("abort",this.canceled,false);xhr.open("POST",this.theTarget,true);xhr.send(myData)};html5up.prototype.checkBrowser=function(){try{formDataChk=new FormData}catch(e){formDataChk=false}try{xhrChk=new XMLHttpRequest}catch(e){xhrChk=false}if(xhrChk&&formDataChk)return true;else return false};
html5up.prototype.progress=function(evt){if(evt.lengthComputable){var percentComplete=Math.round(evt.loaded*100/evt.total);var total=percentComplete.toString();indicator.setAttribute("style","width:"+total+"%")}else indicator.innerHTML="N/A"};html5up.prototype.complete=function(evt){indicator.setAttribute("style","width:100%");window.setTimeout("finisher()",600)};html5up.prototype.failed=function(evt){};html5up.prototype.canceled=function(evt){alert("The upload has been canceled.")};
